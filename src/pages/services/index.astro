---
import { CollectionEntry, getCollection } from "astro:content";
type Props = CollectionEntry<"services">["data"];

const services = (await getCollection('services')).sort((a, b) => {
    // Check if both items have an 'order' property
    if (a.data.order !== undefined && b.data.order !== undefined) {
        return a.data.order - b.data.order; // Sort by 'order' if both have it
    } else if (a.data.order !== undefined) {
        return -1; // 'a' has 'order', but 'b' doesn't, so 'a' comes first
    } else if (b.data.order !== undefined) {
        return 1; // 'b' has 'order', but 'a' doesn't, so 'b' comes first
    } else {
        // Both 'a' and 'b' don't have 'order', fallback to sorting by 'title'
        return a.data.title.localeCompare(b.data.title);
    }
});

const currentURL = new URL(Astro.request.url)

const { title, description } = Astro.props;

import Header from "../../components/Header.astro";
import BaseHead from "../../components/BaseHead.astro";
import Footer from "../../components/Footer.astro";
import ContactSection from "../../components/ContactSection.astro"
import BodyGTM from "../../components/BodyGTM.astro";

import "../../styles/subpages.css"
import "../../styles/collections.css"

import { Schema } from "astro-seo-schema"
---

<html lang="en">
    <head>
        <BaseHead title="Commercial & Office Cleaning Services in London" description="Explore a wide range of professional commercial and office cleaning services by The Clean Network. Tailored solutions to meet your specific cleaning needs in London." />
    </head>

    <body>
        <BodyGTM/>
        <Header />

        <main>
            <div class="ctnr">
                <div class="heading_ctnr default_bg">
                    <h1>Commercial & Office Cleaning Services</h1>

					<p>Discover the breadth and depth of our cleaning expertise at The Clean Network. We offer a comprehensive range of interior and exterior commercial and office cleaning services in London, tailor-made to meet your unique needs and exceed your expectations.</p>
                </div>
                
                <div class="division" id="indoor">
                    <h2>Interior Cleaning Services</h2>

                    <p>Our interior cleaning services are meticulously designed to ensure a clean, hygienic, and productive workspace.</p>

                    <div class="flex">
                        {
                            services.map((services) => (
                                <>
                                {services.data.type === "indoor" ? (
                                <section class="panel reveal" id={(services.data.title).toLowerCase().replace(/\s+/g, '-')}>
                                        <div class="ctnr">
                                            <div class="content">
                                                <h3>
                                                    <a href={`/services/${services.slug}`} aria-label={`Read more about ${services.data.title}`}>
                                                        {services.data.title}
                                                    </a>
                                                </h3>
    
                                                <p class="description">{services.data.description}</p>
    
                                                <a href={`/services/${services.slug}`} class="cta" aria-label={`Read more about ${services.data.title}`}><span></span> More about <span class="lowercase">{services.data.title} {String(services.data.title).includes('Cleaning') ? "" : "Cleaning"} Services</span></a>

                                                <a href="/contact/" class="quote" aria-label="Get a free quote for our cleaning services">Get a free quote</a>
                                            </div>
                                            
                                            <div class="image">
                                                <img src={services.data.image} loading="lazy" alt={`Photo of ${services.data.title} cleaning service`}/>
                                            </div>
                                        </div>
                                    </section>
                                ): null}
                                    
                                </>
                            ))
                        }
                    </div>
                </div>

                <hr>
                
                <div class="division" id="external">
                    <h2>Exterior Cleaning Services</h2>

                    <p>We extend our cleaning expertise beyond your building's interior.</p>

                    <div class="flex">
                        {
                            services.map((services) => (
                                <>
                                {services.data.type === "external" ? (
                                <section class="panel reveal" id={(services.data.title).toLowerCase().replace(/\s+/g, '-')}>
                                        <div class="ctnr">
                                            <div class="content">
                                                <h3>
                                                    <a href={`/services/${services.slug}`} aria-label={`Read more about ${services.data.title}`}>{services.data.title}
                                                    </a>
                                                </h3>
    
                                                <p class="description">{services.data.description}</p>
    
                                                <a href={`/services/${services.slug}`} class="cta" aria-label={`Read more about ${services.data.title}`}><span></span> About <span class="lowercase">{services.data.title} {String(services.data.title).includes('Cleaning') ? "" : "Cleaning"} Service</span></a>

                                                <a href="/#contact" class="quote" aria-label="Get a free quote for our cleaning services">Get a free quote</a>
                                            </div>
                                            
                                            <div class="image">
                                                <img src={services.data.image} loading="lazy" alt={`Photo of ${services.data.title} cleaning service`}/>
                                            </div>
                                        </div>
                                    </section>
                                ): null}
                                    
                                </>
                            ))
                        }
                    </div>
                </div>
            </div>
        </main>

        <ContactSection />

        <Footer />

        <Schema
            item={{
                "@context": "https://schema.org",
                "@type": "LocalBusiness",
                "name": "Clean Network | Services",
                "image": "/og/social-image.jpg",
                "@id": currentURL,
                "url": currentURL,
                "telephone": [
                    "+4402034110275"
                ],
                "address": {
					"@type": "PostalAddress",
					"streetAddress": "EC1M 4NH",
					"addressLocality": "London",
					"addressRegion": "GB",
					"addressCountry": "UK"
                }  
            }}
        />
    </body>
</html>